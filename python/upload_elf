#!/usr/bin/env python

import sys
from scli import client
from binascii import b2a_hex

client = client.create_client(sys.argv[1])

with open(sys.argv[2], 'rb') as f:
    data = f.read()

id = client.create(None,
    tags=['blob', 'fileblob'],
    attr={
        'name': sys.argv[2],
    },
    bindata={
        'blob': data,
    }
)
print('CREATED BLOB', id)
h_id = client.create(id,
    pos=(0, None),
    tags=['chunk', 'elf.ehdr'],
)
print('CREATED HEADER', h_id)
